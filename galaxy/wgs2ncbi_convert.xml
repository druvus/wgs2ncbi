<tool id="wgs2ncbi_convert" name="TBL2ASN conversion" version="1.0.0">
  <description>converts genome to ASN.1</description>
  <command>
    bash '$__tool_directory__/wgs2ncbi_convert.sh' '-conf $config_ini -template $template -discrep $discrep' '$out_file1' '$data'
  </command>
  <inputs>
    <param name="data" format="zip" type="data" label="FASTA archive (from process)" />
    <param name="template" format="asn1" type="data" label="NCBI submission template" />
  </inputs>
  <configfiles>
    <configfile name="config_ini">
; The preferred source whose annotations to use.
source=maker

; Feature types to retain during pre-processing.
feature=CDS
feature=gene
feature=five_prime_UTR
feature=three_prime_UTR
      
; Number of sequences to lump in one file. Must be less than or equal to 10,000
chunksize=5000

; Minimum length of sequences to retain. Must be greater than or equal to 200
minlength=200

; Number of sequences to write (used for testing). Set to 0 for all sequences.
limit=0

; Minimum length of introns to retain. Must be greater than or equal to 10. 
; In genes that have smaller introns all CDS features are lumped to create a 
; non-coding pseudogene.
minintron=10

; Location of the tbl2asn executable. If this is set to tbl2asn=tbl2asn then the 
; assumption is that it is found on the PATH.
tbl2asn=tbl2asn

; Verbosity. Can be 0, (errors only), 1 (also warnings), 2 (also info messages) or 
; 3 (also debugging messages)
verbosity=0

; Logging complexity. 0=only show log level and message; 1=also show fully qualified 
; method name, code file and line number
complexity=1  
    </configfile>
  </configfiles>  
  
  <outputs>
    <data name="out_file1" format="zip" />
    <data name="discrep" format="txt" />
  </outputs>
  <help>
**What it does**

This tool is part of the WGS2NCBI pipeline, which prepares the annotated results of whole 
genome sequencing (WGS) for submission to NCBI. In this step of the pipeline, the 
sequences and feature tables are processed by the `tbl2asn` tool.

-----

**Input files**

- **Project file** This file contains the project-level settings, such as the 
  the identifier prefix generated by NCBI and the naming authority prefix for internal
  IDs
- **Data archive** The output from the `process` step
- **NCBI submission template** Contains the coordinates of sequence fragments to mask, such as 
  adaptors, contaminations, and so on

  </help>
  <!--citations>
    <citation type="doi">10.1007/11732990_17</citation>
  </citations-->
</tool>
